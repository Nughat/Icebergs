import ice
import cv2
import matplotlib.pyplot as plt
#obtain areas, contours, and coordinates
ara,cont,coord = ice.ice_olate(r"/nbhome/Nuzhat.Khan/a68/a68a/MODA_TRUE_2020-12-10",display=True,areaMethod="area_LL2",retCnt=True,areaThresh=7000,cutOff=8000)
ara2,cont2,coord2 = ice.ice_olate(r"/nbhome/Nuzhat.Khan/a68/a68a/MODA_TRUE_2020-12-11",display=True,retCnt=True,areaMethod="area_LL2")
ara3,cont3,coord3 = ice.ice_olate(r"/nbhome/Nuzhat.Khan/a68/a68a/MODA_TRUE_2020-12-12",display=True,retCnt=True,areaThresh=7000,cutOff=8000,areaMethod="area_LL2")
ara4,cont4,coord4 = ice.ice_olate(r"/nbhome/Nuzhat.Khan/a68/a68a/MODA_TRUE_2020-12-13",display=True,retCnt=True,areaThresh=7000,cutOff=8000,areaMethod="area_LL2")
ara5,cont5,coord5 = ice.ice_olate(r"/nbhome/Nuzhat.Khan/a68/a68a/MODA_TRUE_2020-12-14",display=True,setThresh=100,retCnt=True,areaMethod="area_LL2")
ara6,cont6,coord6 = ice.ice_olate(r"/nbhome/Nuzhat.Khan/a68/a68a/MODT_TRUE_2020-12-15",display=True,retCnt=True,areaMethod="area_LL2")
ara7,cont7,coord7 = ice.ice_olate(r"/nbhome/Nuzhat.Khan/a68/a68a/MODA_TRUE_2020-12-16",display=True,setThresh=215,retCnt=True,areaThresh=7000,cutOff=8000,areaMethod="area_LL2")
ara8,cont8,coord8 = ice.ice_olate(r"/nbhome/Nuzhat.Khan/a68/a68a/MODA_TRUE_2020-12-17",display=True,retCnt=True,areaMethod="area_LL2")
ara9,cont9,coord9 = ice.ice_olate(r"/nbhome/Nuzhat.Khan/a68/a68a/MODT_TRUE_2020-12-18",display=True,retCnt=True,areaMethod="area_LL2")
ara10,cont10,coord10 = ice.ice_olate(r"/nbhome/Nuzhat.Khan/a68/a68a/MODT_TRUE_2020-12-19",display=True,setThresh=222,retCnt=True,areaMethod="area_LL2")
ara11,cont11,coord11 = ice.ice_olate(r"/nbhome/Nuzhat.Khan/a68/a68a/MODA_TRUE_2020-12-20",display=True,retCnt=True,areaMethod="area_LL2")
ara12,cont12,coord12 = ice.ice_olate(r"/nbhome/Nuzhat.Khan/a68/a68a/MODA_TRUE_2020-12-21",display=True,setThresh=180,retCnt=True,areaThresh=7000,cutOff=8000,areaMethod="area_LL2")
ara13,cont13,coord13 = ice.ice_olate(r"/nbhome/Nuzhat.Khan/a68/a68a/MODA_TRUE_2020-12-22",display=True,retCnt=True,areaMethod="area_LL2")
ara14,cont14,coord14 = ice.ice_olate(r"/nbhome/Nuzhat.Khan/a68/a68a/MODA_TRUE_2020-12-23",display=True,setThresh=180,retCnt=True,areaMethod="area_LL2")
ara15,cont15,coord15 = ice.ice_olate(r"/nbhome/Nuzhat.Khan/a68/a68a/MODA_TRUE_2020-12-24",display=True,retCnt=True,areaMethod="area_LL2")
ara16,cont16,coord16 = ice.ice_olate(r"/nbhome/Nuzhat.Khan/a68/a68a/MODA_TRUE_2020-12-25",display=True,retCnt=True,areaMethod="area_LL2")
ara17,cont17,coord17 = ice.ice_olate(r"/nbhome/Nuzhat.Khan/a68/a68a/MODA_TRUE_2020-12-26",display=True,retCnt=True,areaMethod="area_LL2")
ara18,cont18,coord18 = ice.ice_olate(r"/nbhome/Nuzhat.Khan/a68/a68a/MODA_TRUE_2020-12-27",display=True,retCnt=True,areaThresh=7000,cutOff=8000,areaMethod="area_LL2")
ara19,cont19,coord19 = ice.ice_olate(r"/nbhome/Nuzhat.Khan/a68/a68a/VIR_NOAA_TRUE_2020-12-28",display=True,retCnt=True,areaMethod="area_LL2")
ara20,cont20,coord20 = ice.ice_olate(r"/nbhome/Nuzhat.Khan/a68/a68a/MODA_TRUE_2020-12-29",display=True,retCnt=True,areaMethod="area_LL2")
#ara21,cont21,coord21 = ice.ice_olate(r"/nbhome/Nuzhat.Khan/a68/a68a/MODA_TRUE_2020-12-30",display=True,retCnt=True,areaMethod="area_LL2") #too cloudy
#ara28,cont28,coord28 = ice.ice_olate(r"/nbhome/Nuzhat.Khan/a68/a68a/MODA_TRUE_2020-12-31",display=True,retCnt=True,areaMethod="area_LL2") #too cloudy
ara22,cont22,coord22 = ice.ice_olate(r"/nbhome/Nuzhat.Khan/a68/a68a/MODA_TRUE_2021-01-01",display=True,retCnt=True,areaMethod="area_LL2")
ara23,cont23,coord23 = ice.ice_olate(r"/nbhome/Nuzhat.Khan/a68/a68a/VIR_NOAA_TRUE_2021-01-02",display=True,retCnt=True,areaThresh=4000,cutOff=6000,areaMethod="area_LL2")
ara24,cont24,coord24 = ice.ice_olate(r"/nbhome/Nuzhat.Khan/a68/a68a/VIR_NOAA_TRUE_2021-01-03",display=True,retCnt=True,areaMethod="area_LL2")
ara25,cont25,coord25 = ice.ice_olate(r"/nbhome/Nuzhat.Khan/a68/a68a/MODA_TRUE_2021-01-04",display=True,areaThresh=4000,cutOff=6000,retCnt=True,areaMethod="area_LL2")
ara26,cont26,coord26 = ice.ice_olate(r"/nbhome/Nuzhat.Khan/a68/a68a/MODA_TRUE_2021-01-05",display=True,retCnt=True,areaMethod="area_LL2")
ara27,cont27,coord27 = ice.ice_olate(r"/nbhome/Nuzhat.Khan/a68/a68a/MODA_TRUE_2021-01-06",display=True,retCnt=True,areaMethod="area_LL2")

#draw contours
img = cv2.imread(r"/nbhome/Nuzhat.Khan/a68/a68a/MODA_TRUE_2020-12-11")
cv2.drawContours(img,[cont],0,(255,0,0),5)
plt.imshow(img)
plt.show()
cv2.drawContours(img,[cont2],0,(255, 106, 0),5)
plt.imshow(img)
plt.show()
cv2.drawContours(img,[cont3],0,(255, 149, 0),5)
plt.imshow(img)
plt.show()
cv2.drawContours(img,[cont4],0,(255, 187, 0),5)
plt.imshow(img)
plt.show()
cv2.drawContours(img,[cont5],0,(255, 234, 0),5)
plt.imshow(img)
plt.show()
cv2.drawContours(img,[cont6],0,(242, 255, 0),5)
plt.imshow(img)
plt.show()
cv2.drawContours(img,[cont7],0,(208, 255, 0),5)
plt.imshow(img)
plt.show()
cv2.drawContours(img,[cont8],0,(153, 255, 0),5)
plt.imshow(img)
plt.show()
cv2.drawContours(img,[cont9],0,(4, 255, 0),5)
plt.imshow(img)
plt.show()
cv2.drawContours(img,[cont10],0,(0, 255, 170),5)
plt.imshow(img)
plt.show()
cv2.drawContours(img,[cont11],0,(0, 255, 234),5)
plt.imshow(img)
plt.show()
cv2.drawContours(img,[cont12],0,(0, 213, 255),5)
plt.imshow(img)
plt.show()
cv2.drawContours(img,[cont13],0,(0, 140, 255),5)
plt.imshow(img)
plt.show()
cv2.drawContours(img,[cont14],0,(119, 0, 255),5)
plt.imshow(img)
plt.show()
cv2.drawContours(img,[cont15],0,(187, 0, 255),5)
plt.imshow(img)
plt.show()
cv2.drawContours(img,[cont16],0,(255, 0, 255),5)
plt.imshow(img)
plt.show()
cv2.drawContours(img,[cont17],0,(255, 0, 174),5)
plt.imshow(img)
plt.show()
cv2.drawContours(img,[cont18],0,(255, 0, 115),5)
plt.imshow(img)
plt.show()
cv2.drawContours(img,[cont19],0,(108, 117, 47),5)
plt.imshow(img)
plt.show()
cv2.drawContours(img,[cont20],0,(217, 130, 159),5)
plt.imshow(img)
plt.show()
cv2.drawContours(img,[cont22],0,(159, 126, 214),5)
plt.imshow(img)
plt.show()
cv2.drawContours(img,[cont23],0,(126, 152, 214),5)
plt.imshow(img)
plt.show()
cv2.drawContours(img,[cont24],0,(205, 214, 126),5)
plt.imshow(img)
plt.show()
cv2.drawContours(img,[cont25],0,(214, 195, 126),5)
plt.imshow(img)
plt.show()
cv2.drawContours(img,[cont26],0,(214, 155, 126),5)
plt.imshow(img)
plt.show()
cv2.drawContours(img,[cont27],0,(126, 214, 207),5)
plt.imshow(img)

#save contours
my_conts= []
my_conts.extend([coord,coord2,coord3,coord4,coord5,coord6,coord7,coord8,coord9,coord10,coord11,coord12,coord13,coord14,coord15,coord16,coord17,coord18,coord19,coord20,coord22,coord23,coord24,coord25,coord26,coord27])

with open('mat.pkl', 'wb') as outfile:
    pickle.dump(my_conts, outfile, pickle.HIGHEST_PROTOCOL)
with open('mat.pkl', 'rb') as infile:
    result = pickle.load(infile)
